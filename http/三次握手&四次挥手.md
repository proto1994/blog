### 三次握手



TPC在发送数据包的时候，会确认数据是否正确送达，使用三次握手策略

1. **客户端发送数据包的时候会携带SYN标志给对方**

    客户端发送网络包，服务端收到了。这样服务端就能得出结论：客户端的发送能力、服务端的接收能力是正常的。

2. **服务端收到后会回传带有SYN/ACK的数据包给客户端，表示确认收到**

   服务端发包，客户端收到了。这样客户端就能得出结论：服务端的接收、发送能力，客户端的接收、发送能力是正常的。 从客户端的视角来看，我接到了服务端发送过来的响应数据包，说明服务端接收到了我在第一次握手时发送的网络包，并且成功发送了响应数据包，这就说明，服务端的接收、发送能力正常。而另一方面，我收到了服务端的响应数据包，说明我第一次发送的网络包成功到达服务端，这样，我自己的发送和接收能力也是正常的。

3. **最后客户端再回传ACK的数据包给接收端，握手结束**

   客户端发包，服务端收到了。这样服务端就能得出结论：客户端的接收、发送能力，服务端的发送、接收能力是正常的。 第一、二次握手后，服务端并不知道客户端的接收能力以及自己的发送能力是否正常。而在第三次握手时，服务端收到了客户端对第二次握手作的回应。从服务端的角度，我在第二次握手时的响应数据发送出去了，客户端接收到了。所以，我的发送能力是正常的。而客户端的接收能力也是正常的。





### 四次挥手



1. 服务端发送FIN的数据包给客户端
2. 客户端收到后先回传FIN数据包给服务端
3. 接着客户端再回传ACK的数据包给服务端
4. 服务端回传ACK的数据包给客户端

